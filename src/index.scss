@import "reset";
@import "mixin";

$headerHeight: 40px;
$asideWidth: 200px;

.app-container {

  height: 100vh;
  width: 100vw;
  display: flex;

  &__aside {
    width: $asideWidth;
    //background: teal;
    overflow: scroll;
    transition: width .3s, transform .3s;
    &--hide-on-desktop {
      width: 0;
      transform: translate3d(-100%, 0, 0);
      overflow-x: hidden;
    }
  }

  &__main {
    flex: 1;
    //background: tan;
  }
}

.app-aside {
  display: flex;
  &__content {
    background: #fff;
    width: 100%;
  }
}

@include for-phone-only {
  .app-container {
    min-height: 520px;
    position: relative;
    z-index: 100;

    &__aside {

      /* reset --hide-on-desktop */
      width: $asideWidth !important;
      overflow: auto !important;
      transition: transform .3s;
      /**/

      position: absolute;
      height: 100%;
      transform: translate3d(-100%, 0, 0);
      &--show-on-mobile {
        transform: translate3d(0, 0, 0);
        border-right: calc(100vw - #{$asideWidth}) solid transparent;  //扩大鼠标点击区域
        background-clip: content-box;

        //&::before {
        //  content: '';
        //  position: fixed;
        //  z-index: -1;
        //  left: 0;
        //  width: 100vw;
        //  bottom: 0;
        //  top: 0;
        //  background: rgba(0, 0, 0, .9);
        //}
      }
    }
  }
  .app-aside {
    &__content {
      width: calc(100% - 5px);
      box-shadow: 0 0 5px 1px rgba(0,0,0,.5);
    }
  }
}